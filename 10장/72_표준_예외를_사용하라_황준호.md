## 아이템72. 표준 예외를 사용하라

웬만하면 코드는 재사용하는 게 좋다. 예외도 마찬가지로 직접 만드는 것보단 표준 예외를 사용하는 게 좋다

### 표준 예외를 재사용하면 얻는 장점

1. 다른 사람이 익히고 사용하기 쉬워진다, 가독성이 좋아진다
2. 예외 클래스가 적을수록 메모리 사용량도 줄고 클래스를 적재하는 시간도 적게 걸린다
   - 예외는 직렬화할 수 있다 -> 직렬화엔 많은 부담이 따른다

### 많이 쓰이는 표준 예외

- `IllegalArgumentException`
  - 호출자가 인수로 부적절한 값을 넘길 때
  - 예: 반복 횟수를 지정하는 매개변수에 음수를 건넬 때
- `IllegalStateException`
  - 대상 객체의 상태가 호출된 메서드를 수행하기에 적합하지 않을 때
  - 예: 제대로 초기화되지 않은 객체를 사용하려 할 때
- `NullPointerException`
  - null값을 허용하지 않는 메서드에 null을 건넬 때
- `IndexOutOfBoundsException`
  - 어느 시퀀스의 허용 범위를 넘는 값을 건넬 때
  - 인덱스가 범위를 넘어섰을 때
- `ConcurrentModificationException`
  - 단일 스레드에서 사용하려고 설계한 객체를 여러 스레드가 동시에 수정하려고 할 때
  - 동시 수정을 확실히 검출할 수 있는 안정된 방법이 없으니, 이 예외는 문제가 생길 가능성을 알려주는 정도의 역할로 쓰임
- `UnsupportedOperationException`
  - 클라이언트가 요청한 동작을 대상 객체가 지원하지 않을 때
  - 보통은 구현하려는 인터페이스의 메서드 일부를 구현할 수 없을때 사용
  - 예 : 원소를 넣을수만 있는 `List`의 구현체에 `remove`메서드는 이 예외를 던짐
- `ArithmeticException`, `NumberFormatException`, ..
  - 복소수나 유리수를 다루는 객체에서 사용

### `Exception`, `RuntimeException`, `Throwable`, `Error`은 직접 재사용하지 말라

- 이 클래스들은 추상 클래스라고 생각하는 게 낫다
- 상위 클래스이므로(여러 성격의 예외들을 포괄하는 클래스이므로) 안정적으로 테스트할 수 없다

### 표준 예외중에 어떤 걸 사용해야 할지 헷갈린다면?

- 표준 예외들의 주요 쓰임이 상호 배타적이지 않기 때문에 선택하기 어려울 수 있다
- 예: 카드 덱을 표현하는 객체가 있고, 카드를 뽑아 나눠주는 메서드(인수로 건넨 수만큼)가 있을때
  - 인수가 너무 커서 어차피 실패할거라면? -> `IllegalArgumentException`
  - 덱의 카드가 너무 적으면? -> `IllegalStateException`